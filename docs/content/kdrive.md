---
title: "kDrive"
description: "Rclone docs for kDrive"
versionIntroduced: "v1.72"
---

# {{< icon "fa fa-cloud" >}} kDrive

Paths are specified as `remote:path`

Paths may be as deep as required, e.g. `remote:directory/subdirectory`.

## Configuration

The initial setup for kDrive involves getting a token which you
need to do in your browser.  `rclone config` walks you through it.

Here is an example of how to make a remote called `remote`.  First run:

```sh
rclone config
```

This will guide you through an interactive setup process:

```text
No remotes found, make a new one?
n) New remote
s) Set configuration password
q) Quit config
n/s/q> n
name> remote
Type of storage to configure.
Choose a number from below, or type in your own value
[snip]
XX / Infomaniak kDrive
   \ "kdrive"
[snip]
Storage> kdrive

Option account_id.
Fill the account ID that is to be considered for this kdrive.
When showing a folder on kdrive, you can find the account_id here:
https://ksuite.infomaniak.com/{account_id}/kdrive/app/drive/...
Enter a value. Press Enter to leave empty.
account_id> 12345678

Option drive_id.
Fill the drive ID for this kdrive.
When showing a folder on kdrive, you can find the drive_id here:
https://ksuite.infomaniak.com/{account_id}/kdrive/app/drive/{drive_id}/files/...
Enter a value. Press Enter to leave empty.
drive_id> 0654321

Option access_token.
Access token generated in Infomaniak profile manager.
Enter a value. Press Enter to leave empty.
access_token> ThisIsAVeryLong-Token

Edit advanced config?
y) Yes
n) No (default)
y/n> 

Configuration complete.
Options:
- type: kdrive
- account_id: 12345678
- drive_id: 0654321
- access_token: ThisIsAVeryLong-Token

Keep this "remote" remote?
y) Yes this is OK
e) Edit this remote
d) Delete this remote
y/e/d> y
```

Once configured you can then use `rclone` like this (replace `remote` with the name you gave your remote):

List directories in top level of your rClone

```sh
rclone lsd remote:
```

**Note** that the top level directory of a private kDrive storage is always called "Private".
When used in with a Pro account, a second folder "Common documents" is also present.
*These top-level folders cannot be modified*.

List all the files in your rClone

```sh
rclone ls remote:
```

To copy a local directory to a rClone directory called backup

```sh
rclone copy /home/source remote:/Private/backup
```

### Modification times and hashes

kDrive allows modification times to be set on objects accurate to 1
second.  These will be used to detect whether objects need syncing or
not.  In order to set a Modification time kDrive requires the object
be re-uploaded.

kDrive supports the XXH3 checksum hash, so you can use the `--checksum` flag.

### Restricted filename characters

In addition to the [default restricted characters set](/overview/#restricted-characters)
the following characters are also replaced:

|  Character | Value | Replacement |
| ---------- |:-----:|:-----------:|
| LeftSpace  | 0x20  | ␠           |
| RighSpace  | 0x20  | ␠           |

Invalid UTF-8 bytes will also be [replaced](/overview/#invalid-utf8),
as they can't be used in JSON strings.

### Deleting files

Deleted files will be moved to the trash.  Your subscription level
will determine how long items stay in the trash.  `rclone cleanup` can
be used to empty the trash.

### Root folder ID

You can set the `root_folder_id` for rclone.  This is the directory
(identified by its `Folder ID`) that rclone considers to be the root
of your kDrive drive.

Normally you will leave this blank and rclone will determine the
correct root to use itself.

However you can set this to restrict rclone to a specific folder
hierarchy.

In order to do this you will have to find the `Folder ID` of the
directory you wish rclone to display. This can be accomplished by executing
the ```rclone lsf``` command using a basic configuration setup that does not
include the ```root_folder_id``` parameter.

The command will enumerate available directories, allowing you to locate the
appropriate Folder ID for subsequent use.

Example:
```
$ rclone lsf --dirs-only -Fip --csv TestkDrive:
dxxxxxxxx2,My Music/
dxxxxxxxx3,My Pictures/
dxxxxxxxx4,My Videos/
```

So if the folder you want rclone to use your is "My Music/", then use the returned id from ```rclone lsf``` command (ex. `dxxxxxxxx2`) as
the `root_folder_id` variable value in the config file.

<!-- autogenerated options start - DO NOT EDIT - instead edit fs.RegInfo in backend/kdrive/kdrive.go and run make backenddocs to verify --> <!-- markdownlint-disable-line line-length -->

### Advanced options

Here are the Advanced options specific to kdrive (kDrive).

#### --kdrive-encoding

The encoding for the backend.

See the [encoding section in the overview](/overview/#encoding) for more info.

Properties:

- Config:      encoding
- Env Var:     RCLONE_KDRIVE_ENCODING
- Type:        Encoding
- Default:     Slash,Del,Ctl,InvalidUtf8,Dot,LeftSpace,RightSpace

#### --kdrive-root-folder-id

Fill in for rclone to use a non root folder as its starting point.

Properties:

- Config:      root_folder_id
- Env Var:     RCLONE_KDRIVE_ROOT_FOLDER_ID
- Type:        string
- Default:     "1"

#### --kdrive-description

Description of the remote.

Properties:

- Config:      description
- Env Var:     RCLONE_KDRIVE_DESCRIPTION
- Type:        string
- Required:    false

{{< rem autogenerated options stop >}}
